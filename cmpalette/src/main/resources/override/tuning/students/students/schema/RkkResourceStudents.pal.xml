<?xml version='1.0' encoding='UTF-8'?>
<schemas xmlns="http://www.intertrust.ru/schema/palette/tn-schema">
  <schema extends="RkkResource" name="RkkResourceStudents">
    <boolean name="$hideUnusedActions" temporal="true">
      <meta>
        <documentation>Управление видимостью системных кнопок</documentation>
      </meta>
      <calc-values>
        <script event="open" lang="SPEL"><![CDATA[
(link.?[rel=='http://intertrust.ru/cmj/relations#applyTemplateButton'].size()>0 ?
link.remove(link.?[rel=='http://intertrust.ru/cmj/relations#applyTemplateButton'].get(0)) : true)]]></script>
      </calc-values>
    </boolean>

    <custom-event-handler lang="JavaScript"><![CDATA[importPackage(Packages.java.lang);
importPackage(Packages.java.util);
importPackage(Packages.ru.intertrust.cmj.rest.tuning);
importClass(Packages.ru.intertrust.cmj.rest.tuning.TuningHelper);
importClass(Packages.org.apache.commons.lang3.StringUtils);
importClass(Packages.java.lang.String);
importClass(Packages.ru.intertrust.cmj.tunable.object.TunableObjectApplication);
importClass(Packages.ru.intertrust.cmj.af.utils.DominoUtils);
importClass(Packages.ru.intertrust.cmj.af.utils.BeansUtils);
importClass(Packages.ru.intertrust.cmj.admin.AdminApplicationImpl);
importClass(Packages.java.util.Calendar);
importClass(Packages.java.util.Date);
importClass(Packages.java.util.ArrayList);
importClass(Packages.java.lang.Integer);
importClass(Packages.org.slf4j.LoggerFactory);

function querySave(object, document) {
var jobname;
jobname = object.tuning().getValues().get('inputHeaderWithOutPlus').getValue();

object.tuning().getValues().put("title", TuningHelper.createPropertyValue(jobname, object.tuning().getSchema().getProperty("title")));

}]]></custom-event-handler>

    <string name="inputHeaderWithOutPlus">
      <storage-field name="inputHeaderWithOutPlus"/>
    </string>

    <string name="showIdent" temporal="true">
      <calc-values>
        <script event="open" lang="SPEL"><![CDATA['Справочник Студенты']]></script>
      </calc-values>
    </string>
    <string name="$openTab" computed="true" temporal="true">
      <calc-values>
        <script event="open" lang="SPEL">
          <![CDATA['Attributes']]>
        </script>
      </calc-values>
    </string>
    <string name="nameFull">
      <storage-field name="nameFull"/>
    </string>
    <date name="birthDate">
      <storage-field name="birthDate"/>
    </date>
    <date name="startDate">
      <storage-field name="startDate"/>
    </date>
    <string name="speciality">
      <storage-field name="speciality"/>
    </string>
    <string name="course">
      <storage-field name="course"/>
    </string>
    <string name="group">
      <storage-field name="group"/>
    </string>
  </schema>
</schemas>